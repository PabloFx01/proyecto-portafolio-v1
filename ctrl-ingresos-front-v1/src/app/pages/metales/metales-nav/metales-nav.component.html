<!-- MENU START  -->
<div class="navbar navbar-expand-lg navbar-dark bg-dark">
  <!-- NAV CONTAINER START -->
  <div class="container-fluid container">
    <a routerLink="" [ngClass]="{active: menuOption == 'home'}" (click)="onOption('home')"
      class="navbar-brand text-info fw-semibold fs-4"><i class='bx bxs-home'></i></a>
    <p></p>
    <!-- NAV BUTTON  -->
    <button #miBoton class="navbar-toggler" type="button" (click)="toggleNavbarCollapse()" data-bs-toggle="collapse"
      data-bs-target="#nav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav">

        <li class="nav-item">
          <a (click)="irAlink('metalesHome')" class="nav-link" data-bs-toggle="dropdown">{{title}}</a>
        </li>
        @if (userLoginOn) {
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Metales</a>
          <ul class="dropdown-menu dropdown-menu-dark">

            <li><a class="dropdown-item" (click)="irAlink('metalesCompra')"
                [ngClass]="{active: menuOption == 'metalesCompra'}" (click)="onOption('metalesCompra')">Lista de
                metales para la compra </a></li>
            <li><a class="dropdown-item" (click)="irAlink('inventario')"
                [ngClass]="{active: menuOption == 'inventario'}" (click)="onOption('inventario')">Inventario </a></li>
            <li>
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Compras</a>
          <ul class="dropdown-menu dropdown-menu-dark">
            <li>
              <a class="dropdown-item" (click)="irAlink('compra')" [ngClass]="{active: menuOption == 'compra'}"
                (click)="onOption('compra')">Empezar a comprar</a>
            </li>
            <li><a class="dropdown-item" (click)="irAlink('consultaCompra')"
                [ngClass]="{active: menuOption == 'consultaCompra'}" (click)="onOption('consultaCompra')">Consultar
                historial de compras</a></li>
          </ul>
        </li>



        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Ventas</a>
          <ul class="dropdown-menu dropdown-menu-dark">

            <li><a class="dropdown-item" (click)="irAlink('venta')" [ngClass]="{active: menuOption == 'venta'}"
                (click)="onOption('venta')">Ventas</a></li>
            <li><a class="dropdown-item" (click)="irAlink('ticket')" [ngClass]="{active: menuOption == 'ticket'}"
                (click)="onOption('ticket')">Tickets </a></li>
            <li>

          </ul>
        </li>
        }

      </ul>

      <ul class="navbar-nav ms-auto">

        @if (!userLoginOn) {
        <li class="nav-item">
          <a class="nav-link" routerLink="login" [ngClass]="{active: menuOption == 'login'}"
            (click)="onOption('login')">Login</a>
        </li>
        }

        @if (userLoginOn) {
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">{{username}}</a>
          <ul class="dropdown-menu dropdown-menu-dark">
            <li><a class="dropdown-item" routerLink="changePass" [ngClass]="{active: menuOption == 'changePass'}"
                (click)="onOption('changePass')">Cambiar contraseña</a></li>
            @if (role === 'METAL_APP') {
            <li><a class="dropdown-item" routerLink="users" [ngClass]="{active: menuOption == 'users'}"
                (click)="onOption('users')">Administrar usuarios </a></li>
            }
            <li><a class="dropdown-item" routerLink="login" (click)="logout()">Cerrar sesión </a></li>
          </ul>
        </li>
        }
      </ul>

    </div>
  </div>
</div>